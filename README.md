# 🐎 Keiba_WS - 競馬AI予測システム開発ワークスペース

## 📋 プロジェクト概要

Keiba_WSは、機械学習を活用した競馬予測システムの研究開発プロジェクトです。従来のアンサンブル学習アプローチ（v1）から、リアルタイムデータスクレイピングによる実用的予測システム（v2）まで、段階的な技術進化を記録しています。

### 🎯 プロジェクトの目標

- 📊 **高精度予測**: 機械学習による競馬結果の高精度予測
- 💰 **実用性**: 実際の投資判断に活用可能なシステム
- 🔬 **研究開発**: 予測モデルの継続的改善と新技術検証
- 📈 **収益性**: 実証された投資収益の実現

---

## 🏗️ プロジェクト構成

```
Keiba_WS/
├── README.md                    # プロジェクト全体概要（本ファイル）
├── .venv/                       # 共通Python仮想環境
├── keibaAI-v1/                  # 第1世代：アンサンブル学習システム
│   ├── README.md                # v1詳細ドキュメント
│   ├── JupyterNotebook_src/     # 探索的データ分析
│   ├── Practice_src/            # 学習・実験用ノートブック
│   └── python_src/              # メイン実装
│       ├── main.py              # 実行スクリプト
│       ├── latest_src/          # 最新実装
│       └── RaceResults_and_RaceInfo.pickle
└── keibaAI-v2/                  # 第2世代：リアルタイム予測システム
    ├── README.md                # v2詳細ドキュメント
    ├── main.ipynb               # メイン実行ノートブック
    ├── horse_racing_ai_prediction.ipynb
    ├── horse_racing_ai_prediction_real_data.ipynb
    ├── horse_racing_ai_user_guide.md
    └── .venv/                   # v2専用環境
```

---

## 🚀 各バージョンの特徴

### 📊 keibaAI-v1: アンサンブル学習システム

**🎯 特徴**
- **アンサンブル学習**: RandomForest + LightGBM + メタモデル
- **高精度**: AUC 0.8054, 精度 79.7%を達成
- **詳細分析**: 特徴量重要度、ROC曲線による性能評価
- **モデル保存**: 学習済みモデルの永続化

**📈 実績**
- **AUC (Test)**: 0.8054
- **Accuracy (Test)**: 79.7%
- **モデル**: RandomForest, LightGBM, Ensemble Meta Model

**🔧 技術スタック**
- scikit-learn, LightGBM
- pandas, numpy
- matplotlib (可視化)

### 🌐 keibaAI-v2: リアルタイム予測システム

**🎯 特徴**
- **リアルタイム性**: netkeiba.comからの即座のデータ取得
- **実用性**: 当日レースの投資判断支援
- **高収益**: **収益率193.1%を実証**
- **ユーザビリティ**: 詳細なユーザーガイド完備

**📈 実績**
- **収益率**: 193.1%達成
- **リアルタイム対応**: 当日レース分析
- **投資戦略**: 確率ベース期待値最適化

**🔧 技術スタック**
- requests, BeautifulSoup4 (スクレイピング)
- LightGBM (予測モデル)
- Jupyter Notebook (対話型開発)

---

## 🏁 クイックスタート

### 🚀 全体環境セットアップ

```bash
# リポジトリのクローン
git clone [repository-url]
cd Keiba_WS

# 共通仮想環境の作成
python -m venv .venv
.venv\Scripts\activate  # Windows

# 基本ライブラリのインストール
pip install pandas numpy matplotlib seaborn scikit-learn lightgbm
```

### 🎯 v1を試す（アンサンブル学習）

```bash
cd keibaAI-v1/python_src/latest_src/
python main.py
```

### 🌐 v2を試す（リアルタイム予測）

```bash
cd keibaAI-v2/
# Jupyter Notebookを起動
jupyter notebook main.ipynb
```

---

## 📖 詳細ドキュメント

### 📚 各バージョンの詳細

| バージョン | README | 主な用途 | 推奨レベル |
|-----------|---------|----------|-----------|
| **v1** | [keibaAI-v1/README.md](keibaAI-v1/README.md) | 機械学習モデル研究 | 中級〜上級 |
| **v2** | [keibaAI-v2/README.md](keibaAI-v2/README.md) | 実用的予測・投資判断 | 初級〜中級 |

### 🎓 学習パス

1. **初心者**: keibaAI-v2から開始 → ユーザーガイド熟読
2. **中級者**: v1でモデル理論学習 → v2で実践活用
3. **上級者**: 両バージョンの技術比較 → 独自改良

---

## 🔍 技術的進化

### v1 → v2 の主な改善点

| 観点 | v1 | v2 | 改善効果 |
|------|----|----|----------|
| **データ取得** | 静的データ（2019年） | リアルタイムスクレイピング | 🔄 最新データ対応 |
| **予測精度** | AUC 0.8054 | 収益率193.1% | 💰 実用性向上 |
| **ユーザビリティ** | コマンドライン | Jupyter + ガイド | 📖 使いやすさ向上 |
| **実用性** | 研究用途 | 投資判断支援 | 🎯 実戦対応 |

### 🚀 次世代への展望

- **v3構想**: ディープラーニング統合
- **API化**: Web API提供
- **自動化**: 自動投票システム
- **多様化**: 複数競馬サイト対応

---

## 🛠️ 開発環境

### 必要な環境

- **Python**: 3.8以上
- **OS**: Windows, macOS, Linux
- **メモリ**: 4GB以上推奨
- **ストレージ**: 2GB以上

### 主要ライブラリ

```
# 共通
pandas>=1.3.0
numpy>=1.21.0
matplotlib>=3.4.0
seaborn>=0.11.0
scikit-learn>=1.0.0
lightgbm>=3.2.0

# v2追加
requests>=2.25.0
beautifulsoup4>=4.9.0
lxml>=4.6.0
jupyter>=1.0.0
```

---

## ⚠️ 重要な注意事項

### 免責事項

- 🎓 **教育目的**: 本プロジェクトは教育・研究目的で開発されています
- 🔒 **投資リスク**: 投資判断は自己責任で行ってください
- 📊 **過去実績**: 過去の成績は将来の結果を保証しません
- ⚖️ **法的遵守**: 各種利用規約・法令を遵守してください

### 利用上の注意

- **データ取得**: netkeiba.comの利用規約を遵守
- **スクレイピング**: 適切な間隔でのアクセス
- **モデル更新**: 定期的なモデル再学習を推奨
- **リスク管理**: 投資額は余裕資金の範囲内で

---

## 🤝 コントリビューション

### 貢献方法

1. **Issue報告**: バグや改善提案
2. **機能追加**: 新機能の実装
3. **ドキュメント**: 説明文書の充実
4. **テスト**: 品質向上への貢献

### 開発ガイドライン

- **ブランチ戦略**: feature/機能名 でブランチ作成
- **コードスタイル**: PEP8準拠
- **コミット**: 明確なコミットメッセージ
- **テスト**: 適切なテスト実装

---

## 📊 プロジェクト統計

| 項目 | v1 | v2 | 合計 |
|------|----|----|------|
| **ファイル数** | 15+ | 10+ | 25+ |
| **コード行数** | 500+ | 1000+ | 1500+ |
| **ノートブック** | 3 | 4 | 7 |
| **ドキュメント** | 1 | 2 | 3 |

---

## 📞 サポート・連絡先

- **GitHub Issues**: バグ報告・機能要望
- **GitHub Discussions**: 技術的質問・議論
- **プロジェクト管理者**: ken-hori-2

---

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

詳細は各サブプロジェクトのライセンスファイルをご確認ください。

---

## 🏆 謝辞

本プロジェクトの開発にあたり、オープンソースコミュニティの皆様に感謝いたします。

---

*Last updated: 2025年8月7日*  
*Project maintained by: ken-hori-2*
